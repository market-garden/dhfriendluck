<?php 
 function getIsVote($vid,$mid){ if(!$vid || !$mid) return false; $voteUserDao = D("VoteUser"); $vote_id = intval($vid); $count = $voteUserDao->count("vote_id='$vote_id' AND user_id='$mid'"); if($count>0){ return "，你已经投过票了！"; }else{ return ""; } } function fd( $var,$null = true ,$filter = null,$res = null,$name = null){ Import( "@.Unit.FirePHPCore.FirePHP" ); $firephp = FirePHP::getInstance(true); if ( isset ( $filter ) ){ $filter = is_array( $filter ) ? $filter : array( $filter ); $temp1 = ( array ) $var; $temp2 = array_keys( $temp1 ); $filt = array_diff( $temp2,$filter ); $firephp->setObjectFilter('stdClass',$filt); } if ( $null == true && (!isset($var) || empty($var) )) { $firephp->warn($var,$name."是空值"); return $firephp; } $type = gettype( $var ); $firephp->info($var,$name."[".$type."]"); return $firephp; } function fs( $dao ){ Import( "@.Unit.FirePHPCore.FirePHP" ); $firephp = FirePHP::getInstance(true); if (is_instance_of ($dao,"Model") ){ $firephp->log($dao->getLastSql()); }else{ $firephp->error( "并不是一个Model的方法" ); } } function fda( $var_array,$null = true,$filter = null,$all = false){ Import( "@.Unit.FirePHPCore.FirePHP" ); $firephp = FirePHP::getInstance(true); if ( is_array( $var_array ) ){ foreach( $var_array as $key=>$value ){ if ( is_string( $key ) ){ !is_object( $value ) && $filter == null; fd( $value,$null,$filter,$firephp,$key); } } if( $all == true ){ $firephp->logo( debug_backtrace() ); } $firephp->trace("Trace Label"); $firephp->group( "全部系统变量" ); $firephp->fb( $_SERVER,"SERVER变量" ); $firephp->groupEnd(); $firephp->group( "全部Session" ); $firephp->fb( $_SESSION,"SESSION变量" ); $firephp->groupEnd(); $firephp->group( "全部请求变量" ); isset( $_GET ) && $firephp->fb( $_GET,"GET传值" ); isset( $_POST ) && $firephp->fb( $_POST,"POST传值" ); isset( $_REQUEST ) && $firephp->fb( $_REQUEST,"REQUEST请求" ); $firephp->groupEnd( ); return; } fd( $value,$null,$filter,$firephp ); $firephp->group( "全部系统变量" ); $firephp->fb( $_SERVER,"SERVER变量" ); $firephp->groupEnd(); $firephp->group( "全部Session" ); $firephp->fb( $_SESSION,"SESSION变量" ); $firephp->groupEnd(); $firephp->group( "全部请求变量" ); isset( $_GET ) && $firephp->fb( $_GET,"GET传值" ); isset( $_POST ) && $firephp->fb( $_POST,"POST传值" ); isset( $_REQUEST ) && $firephp->fb( $_REQUEST,"REQUEST请求" ); $firephp->groupEnd( ); if( $all == true ){ $firephp->log( debug_backtrace() ); } $firephp->trace("Trace Label"); }
return array (
  'dispatch_on' => true,
  'url_model' => 3,
  'path_model' => 2,
  'path_depr' => '/',
  'router_on' => true,
  'check_file_case' => false,
  'tag_plugin_on' => false,
  'session_auto_start' => true,
  'web_log_record' => false,
  'log_record_level' => 
  array (
    0 => 'EMERG',
    1 => 'ALERT',
    2 => 'CRIT',
    3 => 'ERR',
  ),
  'log_file_size' => 2097152,
  'debug_mode' => false,
  'error_message' => '您浏览的页面暂时发生了错误！请稍后再试～',
  'error_page' => '',
  'show_error_msg' => true,
  'var_pathinfo' => 's',
  'var_module' => 'm',
  'var_action' => 'a',
  'var_page' => 'p',
  'var_template' => 't',
  'var_language' => 'l',
  'var_ajax_submit' => 'ajax',
  'default_module' => 'Index',
  'default_action' => 'index',
  'tmpl_cache_on' => true,
  'tmpl_cache_time' => -1,
  'tmpl_switch_on' => true,
  'auto_detect_theme' => false,
  'default_template' => 'default',
  'template_suffix' => '.html',
  'cachfile_suffix' => '.php',
  'output_charset' => 'utf-8',
  'tmpl_var_identify' => 'array',
  'page_numbers' => 5,
  'list_numbers' => 20,
  'auto_name_identify' => true,
  'default_model_app' => '@',
  'html_file_suffix' => '.shtml',
  'html_cache_on' => false,
  'html_cache_time' => 60,
  'html_read_type' => 1,
  'html_url_suffix' => '',
  'time_zone' => 'PRC',
  'lang_switch_on' => true,
  'default_language' => 'zh-cn',
  'auto_detect_lang' => false,
  'db_charset' => 'utf8',
  'db_deploy_type' => 0,
  'db_rw_separate' => false,
  'db_fields_cache' => true,
  'data_cache_time' => -1,
  'data_cache_compress' => false,
  'data_cache_check' => false,
  'data_cache_type' => 'File',
  'data_cache_path' => 'E:/wamp/www/thinksns//runtime/vote/Temp/',
  'data_cache_subdir' => false,
  'data_path_level' => 1,
  'cache_serial_header' => '<?php
//',
  'cache_serial_footer' => '
?>',
  'show_run_time' => false,
  'show_adv_time' => false,
  'show_db_times' => false,
  'show_cache_times' => false,
  'show_use_mem' => false,
  'show_page_trace' => false,
  'tmpl_engine_type' => 'Think',
  'tmpl_deny_func_list' => 'echo,exit',
  'tmpl_l_delim' => '{',
  'tmpl_r_delim' => '}',
  'taglib_begin' => '<',
  'taglib_end' => '>',
  'tag_nested_level' => 3,
  'taglib_list' => 'cx,html',
  'cookie_expire' => 3600,
  'cookie_domain' => '',
  'cookie_path' => '/',
  'cookie_prefix' => '',
  'ajax_return_type' => 'JSON',
  'auto_load_path' => 'Think.Util.',
  'action_jump_tmpl' => 'THEME_PATH&success',
  'action_404_tmpl' => 'Public:404',
  'app_domain_deploy' => false,
  'extend_config_list' => 
  array (
    0 => 'taglibs',
    1 => 'routes',
    2 => 'tags',
    3 => 'htmls',
    4 => 'modules',
    5 => 'actions',
  ),
  'trace_tmpl_file' => 'E:/wamp/www/thinksns//thinkphp/Tpl/PageTrace.tpl.php',
  'exception_tmpl_file' => 'E:/wamp/www/thinksns//thinkphp/Tpl/ThinkException.tpl.php',
  'db_type' => 'mysql',
  'db_host' => 'localhost',
  'db_name' => 'xysns',
  'db_user' => 'deroot',
  'db_pwd' => 'dedata',
  'db_prefix' => 'ts_',
  'cache_data' => 'E:/wamp/www/thinksns//data/cache/secache_data',
  'ts_url' => 'http://localhost/thinksns',
  'upload_path' => 'E:/wamp/www/thinksns//data/uploads/',
  'upload_url' => 'http://localhost/thinksns/data/uploads/',
  'token_on' => true,
  'token_name' => 'thinksns_html_token',
  'token_type' => 'md5',
  'other_token' => 'js',
);
?>